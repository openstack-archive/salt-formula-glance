dashboard:
  glance:
    format: json
    template: glance/files/grafana_dashboards/glance_influxdb.json
  AutomaticMain:
    format: yaml
    base_panel: 'grafana:client:panel:service_singlestat'
    title: 'Main (autogenerated)'
    editable: true
    hideControls: false
    row:
      from-glance:
        title: Control plane
        showTitle: true
        height: 100px
        panel:
          from-glance:
            title: Glance
            target:
              InfluxDB_target:
                column: value
                condition: ""
                dsType: "influxdb"
                fill: ""
                function: "last"
                groupBy:
                  - params:
                      - "$interval"
                    type: time
                  - params:
                      - "null"
                    type: fill
                groupby_field: ""
                interval: ""
                measurement: "cluster_status"
                policy: "default"
                query: SELECT last(value) FROM cluster_status WHERE cluster_name = 'glance' AND $timeFilter GROUP BY time($interval) fill(null)
                rawQuery: "False"
                refId: A
                resultFormat: "time_series"
                select:
                  -
                    - params:
                        - value
                      type: "field"
                    - params:
                        - value
                      type: "last"
                tags:
                - key: cluster_name
                  operator: "="
                  value: glance
